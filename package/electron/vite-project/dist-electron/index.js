"use strict";const e=require("electron"),s=require("path"),t=()=>{const n=new e.BrowserWindow({webPreferences:{contextIsolation:!1,nodeIntegration:!0,preload:s.join(__dirname,"../electron-preload/index.js")}});if(e.app.isPackaged)n.loadFile(s.join(__dirname,"../index.html"));else{const o=`${process.env.VITE_DEV_SERVER_URL}`;n.loadURL(o)}n.webContents.openDevTools(),setTimeout(()=>{n.webContents.send("load",{message:"初始化完成"})},1e3)};e.ipcMain.on("message",(n,o)=>{console.log(o,"来了")});e.app.whenReady().then(()=>{t(),e.app.on("activate",()=>{e.BrowserWindow.getAllWindows().length===0&&t()})});e.app.on("window-all-closed",()=>{process.platform!=="darwin"&&e.app.quit()});
