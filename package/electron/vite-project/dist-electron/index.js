"use strict";const e=require("electron"),s=require("path"),t=()=>{const n=new e.BrowserWindow({webPreferences:{contextIsolation:!1,nodeIntegration:!0},x:100,y:100,minHeight:300,minWidth:300,autoHideMenuBar:!1});if(e.app.isPackaged)n.loadFile(s.join(__dirname,"../index.html"));else{const o=`${process.env.VITE_DEV_SERVER_URL}`;n.loadURL(o)}n.webContents.openDevTools(),setTimeout(()=>{n.webContents.send("load",{message:"初始化完成"})},1e3)},a=()=>{let n=[{label:"文件123",submenu:[{label:"新建"}]},{label:"编辑"}];const o=e.Menu.buildFromTemplate(n);e.Menu.setApplicationMenu(o)};e.ipcMain.on("message",(n,o)=>{console.log(o,"来了")});e.app.whenReady().then(()=>{t(),e.app.on("activate",()=>{e.BrowserWindow.getAllWindows().length===0&&t()})});e.app.on("ready",()=>{a()});e.app.on("window-all-closed",()=>{process.platform!=="darwin"&&e.app.quit()});
